var Md=function(n){"use strict";function t(n,t){var e=new o,r=e.parse(n),u=r.toHtml();return this.options=t,u}var e=function(){function n(){this.list={}}return n.prototype.add=function(n,t){this.list[n]=t},n.prototype.rm=function(n){delete this.list[n]},n.prototype.get=function(n){return this.list[n]||null},n.prototype.forEach=function(n){var t,e=this.list;for(t in e)e.hasOwnProperty(t)&&n.call(this,t,e[t])},n.prototype.clone=function(){},n}(),r=function(){function n(n){this.tag=n,this.attr=new e,this.children=[]}return n.prototype.attr=function(n,t){return"undefined"==typeof t?this.attr.get(n):this.attr.add(n,t);return this},n.prototype.rmAttr=function(n){return this.attr.rm(n),this},n.prototype.appendChild=function(n){return this.children.push(n),this},n.prototype.toHtml=function(){var n=null,t=this.children,e=-1,r=t.length;for(n=""===this.tag?document.createDocumentFragment():document.createElement(this.tag);++e<r;)n.appendChild(t[e].toHtml());return n},n}(),u=function(){function n(n){this.text=n}return n.prototype.toHtml=function(){return document.createTextNode(this.text)},n}(),o=function(n){function t(){}function e(n){return n.replace(/(\r\n|\n|\r)/g,"\n")}var o=function(){function n(){}var t=[];return n.expend=function(n){t.push(n)},n.prototype.parse=function(n){for(var e=[n],u=null,o=-1,p=t.length,l=null,i=null,s=new r("");e.length;){for(o=-1,n=e.pop();++o<p;)if(i=[],u=new t[o],l=u.parse(n,i),i.length&&null===l)i.reverse(),n=i.pop(),e.push.apply(e,i);else{if(i.length){i.reverse(),e.push.apply(e,i);break}if(null!==l)break}null!==l&&s.appendChild(l)}return s},n}();!function(){function n(){}n.prototype.parse=function(n,t){var e=/\\([\\`\*_{}\[\]()#\+.!\-])/,r=e.exec(n),o=null;return e.test(n)?0===r.index?(t.push(n.substr(r[0].length)),new u(r[1])):(t.push(n.substring(0,r.index)),t.push(n.substr(r.index)),null):null;return o},o.expend(n)}(),function(){function n(){}n.prototype.parse=function(n){return new u(n)},o.expend(n)}();var p=function(n){function t(){this.blockGrammar=new l}return t.prototype.parse=function(n){var t=/([\s\S]+?)($|\n(?:\s*\n|\s*$)+)/g,e=[],u=null,o=null,p=new r("");for(u=/^(\s*\n)/.exec(n),null!==u&&(t.lastIndex=u[0].length),u=t.exec(n);null!==u;)e.push(u[1]),u=t.exec(n);for(e.reverse();e.length;)o=this.blockGrammar.parse(e.pop(),e),null!==o&&p.appendChild(o);return p},t}(),l=function(n,t){function e(){}var r=[];return e.prototype.parse=function(n,t){for(var e=-1,u=r.length,o=null,p=null,l=null;++e<u;)if(p=new r[e],l=[],o=p.parse(n,l),l.length&&null===o)l.reverse(),n=l.pop(),t.push.apply(t,l);else{if(l.length){l.reverse(),t.push.apply(t,l);break}if(null!==o)break}return o},e.expend=function(n){r.push(n)},e}(this);return function(n){function t(){}var e=/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/;t.prototype.parse=function(n,t){if(!e.test(n))return null;var o=n.match(e),p=new r("h"+o[1].length);return p.appendChild(new u(o[2])),o[0].length<n.length&&t.push(n.substr(o[0].length)),p},l.expend(t)}(),function(){function n(){}n.prototype.parse=function(n,t){var e=/^(.*)\n([-=])\2\2+(?:\n|$)/,u=null,p="",l=null,i=null;return e.test(n)?(u=n.match(e),p="="===u[2]?"h1":"h2",l=new r(p),i=new o,l.appendChild(i.parse(u[1])),u[0].length<n.length&&t.push(n.substr(u[0].length)),l):null},l.expend(n)}(),function(n){function t(){}t.prototype.parse=function(n){var t=new r("p"),e=new o;return t.appendChild(e.parse(n)),t},l.expend(t)}(),t.prototype.parse=function(n){var t=new p;return t.parse(e(n))},t}();return t}();