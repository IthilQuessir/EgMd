var Md=function(t){"use strict";function n(t,n){var e=new u,r=e.parse(t),o=r.toHtml();return this.options=n,o}var e=function(){function t(){this.list={}}return t.prototype.add=function(t,n){this.list[t]=n},t.prototype.rm=function(t){delete this.list[t]},t.prototype.get=function(t){return this.list[t]||null},t.prototype.forEach=function(t){var n,e=this.list;for(n in e)e.hasOwnProperty(n)&&t.call(this,n,e[n])},t.prototype.clone=function(){},t}(),r=function(){function t(t){this.tag=t,this.attr=new e,this.children=[]}return t.prototype.attr=function(t,n){return"undefined"==typeof n?this.attr.get(t):this.attr.add(t,n);return this},t.prototype.rmAttr=function(t){return this.attr.rm(t),this},t.prototype.addChild=function(t){return this.children.push(t),this},t.prototype.toHtml=function(){var t=null,n=this.children,e=-1,r=n.length;for(t=""===this.tag?document.createDocumentFragment():document.createElement(this.tag);++e<r;)t.appendChild(n[e].toHtml());return t},t}(),o=function(){function t(t){this.text=t}return t.prototype.toHtml=function(){return document.createTextNode(this.text)},t}(),u=function(t){function n(){}function e(t){return t.replace(/(\r\n|\n|\r)/g,"\n")}var u=function(t){function n(){this.blockGrammar=new i}return n.prototype.parse=function(t){var n=/([\s\S]+?)($|\n(?:\s*\n|\s*$)+)/g,e=[],o=null,u=null,i=new r("");for(o=/^(\s*\n)/.exec(t),null!==o&&(n.lastIndex=o[0].length),o=n.exec(t);null!==o;)e.push(o[1]),o=n.exec(t);for(;e.length;)u=this.blockGrammar.parse(e.shift(),e),null!==u&&i.addChild(u);return i},n}(),i=function(t,n){function e(){}var r=[];return e.prototype.parse=function(t,n){for(var e=-1,o=r.length,u=null,i=null;++e<o&&(i=new r[e],u=i.parse(t,n),null===u););return u},e.expend=function(t){r.push(t)},e}(this);return function(t){function n(){}var e=/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/;n.prototype.parse=function(t,n){if(!e.test(t))return null;var u=t.match(e),i=new r("h"+u[1].length);return i.addChild(new o(u[2])),u[0].length<t.length&&n.push(t.substr(u[0].length)),i},i.expend(n)}(),function(){function t(){}t.prototype.parse=function(t,n){var e=/^(.*)\n([-=])\2\2+(?:\n|$)/,u=null,i="",l=null;return e.test(t)?(u=t.match(e),i="="===u[2]?"h1":"h2",l=new r(i),l.addChild(new o(u[1])),u[0].length<t.length&&n.push(t.substr(u[0].length)),l):null},i.expend(t)}(),function(t){function n(){}n.prototype.parse=function(t){var n=new r("p");return n.addChild(new o(t)),n},i.expend(n)}(),n.prototype.parse=function(t){var n=new u;return n.parse(e(t))},n}();return n}();