var Md=function(t){"use strict";function n(t,n){var r=new i,e=r.parse(t),o=e.toHtml();return this.options=n,o}var r=function(){function t(){this.list={}}return t.prototype.add=function(t,n){this.list[t]=n},t.prototype.rm=function(t){delete this.list[t]},t.prototype.get=function(t){return this.list[t]||null},t.prototype.forEach=function(t){var n,r=this.list;for(n in r)r.hasOwnProperty(n)&&t.call(this,n,r[n])},t.prototype.clone=function(){},t}(),e=function(){function t(t){this.tag=t,this.attr=new r,this.children=[]}return t.prototype.attr=function(t,n){return"undefined"==typeof n?this.attr.get(t):this.attr.add(t,n);return this},t.prototype.rmAttr=function(t){return this.attr.rm(t),this},t.prototype.addChild=function(t){return this.children.push(t),this},t.prototype.toHtml=function(){var t=null,n=this.children,r=-1,e=n.length;for(t=""===this.tag?document.createDocumentFragment():document.createElement(this.tag);++r<e;)t.appendChild(n[r].toHtml());return t},t}(),o=function(){function t(t){this.text=t}return t.prototype.toHtml=function(){return document.createTextNode(this.text)},t}(),i=function(t){function n(){}function r(t){return t.replace(/(\r\n|\n|\r)/g,"\n")}var i=function(t){function n(){this.blockGrammar=new u}return n.prototype.parse=function(t){var n=/([\s\S]+?)($|\n#|\n(?:\s*\n?|$)+)/g,r=[],o=null,i=null,u=new e("");for(o=/^(\s*\n)/.exec(t),null!==o&&(n.lastIndex=o[0].length),o=n.exec(t);null!==o;)r.push(o[1]),o=n.exec(t);for(;r.length;)i=this.blockGrammar.parse(r.shift(),r),null!==i&&u.addChild(i);return u},n}(),u=function(t,n){function r(){}var e=[];return r.prototype.parse=function(t,n){for(var r=-1,o=e.length,i=null,u=null;++r<o&&(u=new e[r],i=u.parse(t,n),null===i););return i},r.expend=function(t){e.push(t)},r}(this);return function(t){function n(){}var r=/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/;n.prototype.parse=function(t,n){if(!r.test(t))return null;var i=t.match(r),u=new e("h"+i[1].length);return u.addChild(new o(i[2])),i[0].length<t.length&&n.push(t.substr(i[0].length)),u},u.expend(n)}(),function(t){function n(){}n.prototype.parse=function(t){var n=new e("p");return n.addChild(new o(t)),n},u.expend(n)}(),n.prototype.parse=function(t){var n=new i;return n.parse(r(t))},n}();return n}();